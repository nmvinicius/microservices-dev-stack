networks:
  public:
    name: public
    driver: bridge
  
  private:
    name: private
    driver: bridge
    internal: true


services:
  server:
    extends:
      file: server/compose.yaml
      service: nginx
    networks:
      - public
      - private
  database:
    extends:
      file: database/compose.yaml
      service: postgres
    networks:
      - private
  adminer:
    extends:
      file: database/compose.yaml
      service: adminer
    networks:
      - private